{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/home/andrei/my-app/src/app/pages/HomePage/Features/GithubRepoForm/index.tsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FormLabel } from 'app/components/FormLabel';\nimport { Input } from './components/Input';\nimport { RepoItem } from './RepoItem';\nimport { TextButton } from './components/TextButton';\nimport { selectUsername, selectRepos, selectLoading, selectError } from './slice/selectors';\nimport { LoadingIndicator } from 'app/components/LoadingIndicator';\nimport { RepoErrorType } from './slice/types';\nimport { useGithubRepoFormSlice } from './slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function GithubRepoForm() {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    actions\n  } = useGithubRepoFormSlice();\n  const username = useSelector(selectUsername);\n  const repos = useSelector(selectRepos);\n  const isLoading = useSelector(selectLoading);\n  const error = useSelector(selectError);\n  const dispatch = useDispatch();\n  const onChangeUsername = evt => {\n    dispatch(actions.changeUsername(evt.currentTarget.value));\n    dispatch(actions.loadRepos());\n  };\n  const useEffectOnMount = effect => {\n    _s();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(effect, []);\n  };\n  _s(useEffectOnMount, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  useEffectOnMount(() => {\n    // When initial state username is not null, submit the form to load repos\n    if (username && username.trim().length > 0) {\n      dispatch(actions.loadRepos());\n    }\n  });\n  const onSubmitForm = evt => {\n    /* istanbul ignore next  */\n    if (evt !== undefined && evt.preventDefault) {\n      evt.preventDefault();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      onSubmit: onSubmitForm,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Github Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"Type any Github username\",\n          value: username,\n          onChange: onChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n          small: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), (repos === null || repos === void 0 ? void 0 : repos.length) > 0 ? /*#__PURE__*/_jsxDEV(List, {\n      children: repos.map(repo => /*#__PURE__*/_jsxDEV(RepoItem, {\n        name: repo.name,\n        starCount: repo.stargazers_count,\n        url: repo.html_url\n      }, repo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorText, {\n      children: repoErrorText(error)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s2(GithubRepoForm, \"Ma5QRdkhE0ckT0eIE1NRmfmWww4=\", true, function () {\n  return [useGithubRepoFormSlice, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n_c = GithubRepoForm;\nexport const repoErrorText = error => {\n  switch (error) {\n    case RepoErrorType.USER_NOT_FOUND:\n      return 'There is no such user ðŸ˜ž';\n    case RepoErrorType.USERNAME_EMPTY:\n      return 'Type any Github username';\n    case RepoErrorType.USER_HAS_NO_REPO:\n      return 'User has no repository ðŸ¥º';\n    case RepoErrorType.GITHUB_RATE_LIMIT:\n      return 'Looks like github api`s rate limit(60 request/h) has exceeded ðŸ¤”';\n    default:\n      return 'An error has occurred!';\n  }\n};\nconst Wrapper = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__Wrapper\",\n  componentId: \"sc-1591adv-0\"\n})([\"\", \"{margin:16px 0;font-size:0.875rem;}\"], TextButton);\n_c2 = Wrapper;\nconst InputWrapper = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__InputWrapper\",\n  componentId: \"sc-1591adv-1\"\n})([\"display:flex;align-items:center;\", \"{width:\", \"%;margin-right:0.5rem;}\"], Input, 100 / 3);\n_c3 = InputWrapper;\nconst ErrorText = _styled.span.withConfig({\n  displayName: \"GithubRepoForm__ErrorText\",\n  componentId: \"sc-1591adv-2\"\n})([\"color:\", \";\"], p => p.theme.text);\n_c4 = ErrorText;\nconst FormGroup = _styled.form.withConfig({\n  displayName: \"GithubRepoForm__FormGroup\",\n  componentId: \"sc-1591adv-3\"\n})([\"display:flex;flex-direction:column;margin-bottom:1rem;\", \"{margin-bottom:0.25rem;margin-left:0.125rem;}\"], FormLabel);\n_c5 = FormGroup;\nconst List = _styled.div.withConfig({\n  displayName: \"GithubRepoForm__List\",\n  componentId: \"sc-1591adv-4\"\n})([\"\"]);\n_c6 = List;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"GithubRepoForm\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"InputWrapper\");\n$RefreshReg$(_c4, \"ErrorText\");\n$RefreshReg$(_c5, \"FormGroup\");\n$RefreshReg$(_c6, \"List\");","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","FormLabel","Input","RepoItem","TextButton","selectUsername","selectRepos","selectLoading","selectError","LoadingIndicator","RepoErrorType","useGithubRepoFormSlice","jsxDEV","_jsxDEV","GithubRepoForm","_s2","_s","$RefreshSig$","actions","username","repos","isLoading","error","dispatch","onChangeUsername","evt","changeUsername","currentTarget","value","loadRepos","useEffectOnMount","effect","trim","length","onSubmitForm","undefined","preventDefault","Wrapper","children","FormGroup","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","InputWrapper","type","placeholder","onChange","small","List","map","repo","name","starCount","stargazers_count","url","html_url","id","ErrorText","repoErrorText","_c","USER_NOT_FOUND","USERNAME_EMPTY","USER_HAS_NO_REPO","GITHUB_RATE_LIMIT","styled","div","withConfig","displayName","componentId","_c2","_c3","span","p","theme","text","_c4","form","_c5","_c6","$RefreshReg$"],"sources":["/home/andrei/my-app/src/app/pages/HomePage/Features/GithubRepoForm/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport styled from 'styled-components/macro';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FormLabel } from 'app/components/FormLabel';\nimport { Input } from './components/Input';\nimport { RepoItem } from './RepoItem';\nimport { TextButton } from './components/TextButton';\nimport {\n  selectUsername,\n  selectRepos,\n  selectLoading,\n  selectError,\n} from './slice/selectors';\nimport { LoadingIndicator } from 'app/components/LoadingIndicator';\nimport { RepoErrorType } from './slice/types';\nimport { useGithubRepoFormSlice } from './slice';\n\nexport function GithubRepoForm() {\n  const { actions } = useGithubRepoFormSlice();\n\n  const username = useSelector(selectUsername);\n  const repos = useSelector(selectRepos);\n  const isLoading = useSelector(selectLoading);\n  const error = useSelector(selectError);\n\n  const dispatch = useDispatch();\n\n  const onChangeUsername = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch(actions.changeUsername(evt.currentTarget.value));\n    dispatch(actions.loadRepos());\n  };\n\n  const useEffectOnMount = (effect: React.EffectCallback) => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(effect, []);\n  };\n\n  useEffectOnMount(() => {\n    // When initial state username is not null, submit the form to load repos\n    if (username && username.trim().length > 0) {\n      dispatch(actions.loadRepos());\n    }\n  });\n\n  const onSubmitForm = (evt?: React.FormEvent<HTMLFormElement>) => {\n    /* istanbul ignore next  */\n    if (evt !== undefined && evt.preventDefault) {\n      evt.preventDefault();\n    }\n  };\n\n  return (\n    <Wrapper>\n      <FormGroup onSubmit={onSubmitForm}>\n        <FormLabel>Github Username</FormLabel>\n        <InputWrapper>\n          <Input\n            type=\"text\"\n            placeholder=\"Type any Github username\"\n            value={username}\n            onChange={onChangeUsername}\n          />\n          {isLoading && <LoadingIndicator small />}\n        </InputWrapper>\n      </FormGroup>\n      {repos?.length > 0 ? (\n        <List>\n          {repos.map(repo => (\n            <RepoItem\n              key={repo.id}\n              name={repo.name}\n              starCount={repo.stargazers_count}\n              url={repo.html_url}\n            />\n          ))}\n        </List>\n      ) : error ? (\n        <ErrorText>{repoErrorText(error)}</ErrorText>\n      ) : null}\n    </Wrapper>\n  );\n}\n\nexport const repoErrorText = (error: RepoErrorType) => {\n  switch (error) {\n    case RepoErrorType.USER_NOT_FOUND:\n      return 'There is no such user ðŸ˜ž';\n    case RepoErrorType.USERNAME_EMPTY:\n      return 'Type any Github username';\n    case RepoErrorType.USER_HAS_NO_REPO:\n      return 'User has no repository ðŸ¥º';\n    case RepoErrorType.GITHUB_RATE_LIMIT:\n      return 'Looks like github api`s rate limit(60 request/h) has exceeded ðŸ¤”';\n    default:\n      return 'An error has occurred!';\n  }\n};\n\nconst Wrapper = styled.div`\n  ${TextButton} {\n    margin: 16px 0;\n    font-size: 0.875rem;\n  }\n`;\n\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${Input} {\n    width: ${100 / 3}%;\n    margin-right: 0.5rem;\n  }\n`;\n\nconst ErrorText = styled.span`\n  color: ${p => p.theme.text};\n`;\n\nconst FormGroup = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n\n  ${FormLabel} {\n    margin-bottom: 0.25rem;\n    margin-left: 0.125rem;\n  }\n`;\n\nconst List = styled.div``;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}